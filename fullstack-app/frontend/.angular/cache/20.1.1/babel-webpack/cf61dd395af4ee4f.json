{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/case.service\";\nimport * as i3 from \"@angular/common\";\nfunction CaseFormComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CaseFormComponent_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onCancel());\n    });\n    i0.ɵɵelement(2, \"i\", 11);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseFormComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function CaseFormComponent_div_8_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.error = \"\");\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction CaseFormComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CaseFormComponent_form_10_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const location_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", location_r5.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", location_r5.label, \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"courtLocation\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r6.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", category_r6.label, \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"caseCategory\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r7.value);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", type_r7.label, \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"caseType\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"filerReferenceNo\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51);\n    i0.ɵɵelement(1, \"i\", 52);\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"NOTE:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" You have selected an Auto Case create case type. Filing fees will be auto populated in the filing fee section. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaseFormComponent_form_10_div_48_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"filingAmount\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h5\", 22);\n    i0.ɵɵtext(3, \"Filing Fee Information\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 23)(5, \"div\", 53)(6, \"div\", 54)(7, \"label\", 55);\n    i0.ɵɵtext(8, \"Filing Fee \");\n    i0.ɵɵelementStart(9, \"span\", 27);\n    i0.ɵɵtext(10, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 56)(12, \"span\", 57);\n    i0.ɵɵtext(13, \"$\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 58);\n    i0.ɵɵlistener(\"keypress\", function CaseFormComponent_form_10_div_48_Template_input_keypress_14_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onNumericInput($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, CaseFormComponent_form_10_div_48_div_15_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementStart(16, \"div\", 38);\n    i0.ɵɵtext(17, \" For new case filings and supplemental filings that require a fee, please enter an amount or check at least one exemption below. \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 24)(19, \"div\", 41)(20, \"h6\", 59);\n    i0.ɵɵtext(21, \"Filing Fee Exemptions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 60);\n    i0.ɵɵtext(23, \" For new case filings and supplemental filings that require a fee, please select any filing fee exemption that apply: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 61);\n    i0.ɵɵelement(25, \"input\", 62);\n    i0.ɵɵelementStart(26, \"label\", 63);\n    i0.ɵɵtext(27, \" Exempt From Filing Fees by Section 514.040 RSMo \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 61);\n    i0.ɵɵelement(29, \"input\", 64);\n    i0.ɵɵelementStart(30, \"label\", 65);\n    i0.ɵɵtext(31, \" Government Filer - Exempt from Filing Fees \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 61);\n    i0.ɵɵelement(33, \"input\", 66);\n    i0.ɵɵelementStart(34, \"label\", 67);\n    i0.ɵɵtext(35, \" In Forma Pauperis \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 68);\n    i0.ɵɵelement(37, \"input\", 69);\n    i0.ɵɵelementStart(38, \"label\", 70);\n    i0.ɵɵtext(39, \" Fee Waived / Not Required (explain special circumstances in Notes to Clerk) \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"filingAmount\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"filingAmount\"));\n  }\n}\nfunction CaseFormComponent_form_10_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getFieldError(\"noteToClerk\"), \" \");\n  }\n}\nfunction CaseFormComponent_form_10_button_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function CaseFormComponent_form_10_button_67_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onCancel());\n    });\n    i0.ɵɵtext(1, \" Cancel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaseFormComponent_form_10_span_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 72);\n  }\n}\nfunction CaseFormComponent_form_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 17);\n    i0.ɵɵlistener(\"ngSubmit\", function CaseFormComponent_form_10_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelement(2, \"i\", 19);\n    i0.ɵɵtext(3, \" Required fields are denoted by an asterisk (*) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 20)(5, \"div\", 21)(6, \"h5\", 22);\n    i0.ɵɵtext(7, \"Case Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 23)(9, \"div\", 24)(10, \"div\", 25)(11, \"label\", 26);\n    i0.ɵɵtext(12, \"Court Location \");\n    i0.ɵɵelementStart(13, \"span\", 27);\n    i0.ɵɵtext(14, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"select\", 28)(16, \"option\", 29);\n    i0.ɵɵtext(17, \"--Select Court Location--\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CaseFormComponent_form_10_option_18_Template, 2, 2, \"option\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, CaseFormComponent_form_10_div_19_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 25)(21, \"label\", 32);\n    i0.ɵɵtext(22, \"Case Category \");\n    i0.ɵɵelementStart(23, \"span\", 27);\n    i0.ɵɵtext(24, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"select\", 33)(26, \"option\", 29);\n    i0.ɵɵtext(27, \"--Select Case Category--\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, CaseFormComponent_form_10_option_28_Template, 2, 2, \"option\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(29, CaseFormComponent_form_10_div_29_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 25)(31, \"label\", 34);\n    i0.ɵɵtext(32, \"Case Type \");\n    i0.ɵɵelementStart(33, \"span\", 27);\n    i0.ɵɵtext(34, \"*\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"select\", 35)(36, \"option\", 29);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, CaseFormComponent_form_10_option_38_Template, 2, 2, \"option\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(39, CaseFormComponent_form_10_div_39_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 25)(41, \"label\", 36);\n    i0.ɵɵtext(42, \"Filer Reference Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(43, \"input\", 37);\n    i0.ɵɵtemplate(44, CaseFormComponent_form_10_div_44_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementStart(45, \"div\", 38);\n    i0.ɵɵtext(46, \"Maximum 30 characters\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(47, CaseFormComponent_form_10_div_47_Template, 5, 0, \"div\", 39)(48, CaseFormComponent_form_10_div_48_Template, 40, 3, \"div\", 40);\n    i0.ɵɵelementStart(49, \"div\", 20)(50, \"div\", 21)(51, \"h5\", 22);\n    i0.ɵɵtext(52, \"Additional Information\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"div\", 23)(54, \"div\", 24)(55, \"div\", 41)(56, \"label\", 42);\n    i0.ɵɵtext(57, \"Notes to Clerk\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(58, \"textarea\", 43);\n    i0.ɵɵtemplate(59, CaseFormComponent_form_10_div_59_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementStart(60, \"div\", 38);\n    i0.ɵɵtext(61);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(62, \"div\", 24)(63, \"div\", 41)(64, \"div\", 44)(65, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function CaseFormComponent_form_10_Template_button_click_65_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onReset());\n    });\n    i0.ɵɵtext(66, \" Reset \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(67, CaseFormComponent_form_10_button_67_Template, 2, 0, \"button\", 46);\n    i0.ɵɵelementStart(68, \"button\", 47);\n    i0.ɵɵtemplate(69, CaseFormComponent_form_10_span_69_Template, 1, 0, \"span\", 48);\n    i0.ɵɵtext(70);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    let tmp_19_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.caseForm);\n    i0.ɵɵadvance(15);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"courtLocation\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.courtLocations);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"courtLocation\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"caseCategory\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.caseCategories);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"caseCategory\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"caseType\"));\n    i0.ɵɵproperty(\"disabled\", ctx_r1.caseTypes.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.caseTypes.length === 0 ? \"--First select a case category--\" : \"--Select Case Type--\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.caseTypes);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"caseType\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"filerReferenceNo\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"filerReferenceNo\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showAutoFeeMessage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showFilingFeeSection);\n    i0.ɵɵadvance(10);\n    i0.ɵɵclassProp(\"is-invalid\", ctx_r1.isFieldInvalid(\"noteToClerk\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isFieldInvalid(\"noteToClerk\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ((tmp_19_0 = ctx_r1.caseForm.get(\"noteToClerk\")) == null ? null : tmp_19_0.value == null ? null : tmp_19_0.value.length) || 0, \"/1000 characters \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEditMode);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.loading || ctx_r1.caseForm.invalid);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isEditMode ? \"Update Case\" : \"Create Case\", \" \");\n  }\n}\nexport class CaseFormComponent {\n  constructor(fb, caseService) {\n    this.fb = fb;\n    this.caseService = caseService;\n    this.caseData = null;\n    this.isEditMode = false;\n    this.formSubmit = new EventEmitter();\n    this.formCancel = new EventEmitter();\n    this.courtLocations = [];\n    this.caseCategories = [];\n    this.caseTypes = [];\n    this.selectedCaseType = null;\n    this.showFilingFeeSection = false;\n    this.showAutoFeeMessage = false;\n    this.calculatedFee = 0;\n    this.loading = false;\n    this.error = '';\n    this.caseForm = this.createForm();\n  }\n  ngOnInit() {\n    this.loadDropdownData();\n    this.setupFormSubscriptions();\n    if (this.caseData && this.isEditMode) {\n      this.populateForm();\n    }\n  }\n  createForm() {\n    return this.fb.group({\n      courtLocation: ['', Validators.required],\n      caseCategory: ['', Validators.required],\n      caseType: ['', Validators.required],\n      filerReferenceNo: ['', [Validators.maxLength(30)]],\n      filingAmount: [0.00, [Validators.min(0), Validators.pattern(/^\\d+(\\.\\d{1,2})?$/)]],\n      exempt: [false],\n      govAttorney: [false],\n      informaPauperis: [false],\n      waived: [false],\n      noteToClerk: ['', Validators.maxLength(1000)]\n    });\n  }\n  loadDropdownData() {\n    this.loading = true;\n    // Load court locations\n    this.caseService.getCourtLocations().subscribe({\n      next: locations => {\n        this.courtLocations = locations;\n      },\n      error: error => {\n        this.error = 'Failed to load court locations';\n        console.error('Error loading court locations:', error);\n      }\n    });\n    // Load case categories\n    this.caseService.getCaseCategories().subscribe({\n      next: categories => {\n        this.caseCategories = categories;\n        this.loading = false;\n      },\n      error: error => {\n        this.error = 'Failed to load case categories';\n        this.loading = false;\n        console.error('Error loading case categories:', error);\n      }\n    });\n  }\n  setupFormSubscriptions() {\n    // Watch for case category changes to update case types\n    this.caseForm.get('caseCategory')?.valueChanges.subscribe(categoryId => {\n      if (categoryId) {\n        this.loadCaseTypes(categoryId);\n        // Reset case type when category changes\n        this.caseForm.patchValue({\n          caseType: ''\n        });\n        this.selectedCaseType = null;\n        this.showFilingFeeSection = false;\n        this.showAutoFeeMessage = false;\n      } else {\n        this.caseTypes = [];\n      }\n    });\n    // Watch for case type changes to handle fee calculation\n    this.caseForm.get('caseType')?.valueChanges.subscribe(caseTypeId => {\n      if (caseTypeId) {\n        this.handleCaseTypeChange(caseTypeId);\n      }\n    });\n    // Watch for fee exemption changes\n    const exemptionControls = ['exempt', 'govAttorney', 'informaPauperis', 'waived'];\n    exemptionControls.forEach(controlName => {\n      this.caseForm.get(controlName)?.valueChanges.subscribe(() => {\n        this.validateFeeExemptions();\n      });\n    });\n  }\n  loadCaseTypes(categoryId) {\n    this.caseService.getCaseTypesByCategory(categoryId).subscribe({\n      next: types => {\n        this.caseTypes = types;\n      },\n      error: error => {\n        this.error = 'Failed to load case types';\n        console.error('Error loading case types:', error);\n      }\n    });\n  }\n  handleCaseTypeChange(caseTypeId) {\n    this.selectedCaseType = this.caseTypes.find(type => type.value === caseTypeId) || null;\n    if (this.selectedCaseType) {\n      this.showFilingFeeSection = this.selectedCaseType.requiresFee;\n      this.showAutoFeeMessage = this.selectedCaseType.autoCalculateFee || false;\n      if (this.selectedCaseType.defaultFee) {\n        this.calculatedFee = this.selectedCaseType.defaultFee;\n        this.caseForm.patchValue({\n          filingAmount: this.calculatedFee\n        });\n      }\n    }\n  }\n  validateFeeExemptions() {\n    const exemptions = [this.caseForm.get('exempt')?.value, this.caseForm.get('govAttorney')?.value, this.caseForm.get('informaPauperis')?.value, this.caseForm.get('waived')?.value];\n    const hasExemption = exemptions.some(exemption => exemption === true);\n    const filingAmount = this.caseForm.get('filingAmount')?.value;\n    // Clear fee validation errors\n    this.error = this.error.replace('Filing fee or exemption required.', '').trim();\n    // If no exemptions and no filing amount, show error\n    if (this.showFilingFeeSection && !hasExemption && (!filingAmount || filingAmount <= 0)) {\n      // Will be validated on submit\n    }\n  }\n  populateForm() {\n    if (this.caseData) {\n      this.caseForm.patchValue({\n        courtLocation: this.caseData.courtLocation,\n        caseCategory: this.caseData.caseCategory,\n        caseType: this.caseData.caseType,\n        filerReferenceNo: this.caseData.filerReferenceNumber || '',\n        filingAmount: this.caseData.filingAmount || 0,\n        exempt: this.caseData.exempt || false,\n        govAttorney: this.caseData.govAttorney || false,\n        informaPauperis: this.caseData.informaPauperis || false,\n        waived: this.caseData.waived || false,\n        noteToClerk: this.caseData.noteToClerk || ''\n      });\n    }\n  }\n  onSubmit() {\n    if (this.caseForm.valid) {\n      // Additional validation for filing fees\n      if (this.showFilingFeeSection) {\n        const hasExemption = this.caseForm.get('exempt')?.value || this.caseForm.get('govAttorney')?.value || this.caseForm.get('informaPauperis')?.value || this.caseForm.get('waived')?.value;\n        const filingAmount = this.caseForm.get('filingAmount')?.value;\n        if (!hasExemption && (!filingAmount || filingAmount <= 0)) {\n          this.error = 'Filing fee or exemption required.';\n          return;\n        }\n      }\n      this.error = '';\n      const formData = this.caseForm.value;\n      this.formSubmit.emit(formData);\n    } else {\n      this.markFormGroupTouched();\n      this.error = 'Please correct the errors in the form.';\n    }\n  }\n  onCancel() {\n    this.formCancel.emit();\n  }\n  onReset() {\n    this.caseForm.reset();\n    this.selectedCaseType = null;\n    this.showFilingFeeSection = false;\n    this.showAutoFeeMessage = false;\n    this.error = '';\n  }\n  markFormGroupTouched() {\n    Object.keys(this.caseForm.controls).forEach(key => {\n      const control = this.caseForm.get(key);\n      control?.markAsTouched();\n    });\n  }\n  // Utility methods for template\n  isFieldInvalid(fieldName) {\n    const field = this.caseForm.get(fieldName);\n    return !!(field && field.invalid && (field.dirty || field.touched));\n  }\n  getFieldError(fieldName) {\n    const field = this.caseForm.get(fieldName);\n    if (field && field.errors && (field.dirty || field.touched)) {\n      if (field.errors['required']) return `${fieldName} is required`;\n      if (field.errors['maxlength']) return `${fieldName} exceeds maximum length`;\n      if (field.errors['min']) return `${fieldName} must be greater than 0`;\n      if (field.errors['pattern']) return `${fieldName} format is invalid`;\n    }\n    return '';\n  }\n  onNumericInput(event) {\n    // Allow only numbers and decimal point\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode !== 46) {\n      return false;\n    }\n    return true;\n  }\n  static #_ = this.ɵfac = function CaseFormComponent_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || CaseFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CaseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CaseFormComponent,\n    selectors: [[\"app-case-form\"]],\n    inputs: {\n      caseData: \"caseData\",\n      isEditMode: \"isEditMode\"\n    },\n    outputs: {\n      formSubmit: \"formSubmit\",\n      formCancel: \"formCancel\"\n    },\n    decls: 11,\n    vars: 4,\n    consts: [[1, \"case-form-container\"], [1, \"row\", \"stepHeader\"], [1, \"col-10\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-gavel\", \"me-2\"], [1, \"stepHeaderTitle\"], [\"class\", \"col-2 text-end\", 4, \"ngIf\"], [\"class\", \"alert alert-danger alert-dismissible fade show\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"text-center my-4\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"col-2\", \"text-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"btn-sm\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-times\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"text-center\", \"my-4\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"alert\", \"alert-info\"], [1, \"fa\", \"fa-info-circle\", \"me-2\"], [1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"courtLocation\", 1, \"form-label\"], [1, \"text-danger\"], [\"id\", \"courtLocation\", \"formControlName\", \"courtLocation\", 1, \"form-select\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"caseCategory\", 1, \"form-label\"], [\"id\", \"caseCategory\", \"formControlName\", \"caseCategory\", 1, \"form-select\"], [\"for\", \"caseType\", 1, \"form-label\"], [\"id\", \"caseType\", \"formControlName\", \"caseType\", 1, \"form-select\", 3, \"disabled\"], [\"for\", \"filerReferenceNo\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"filerReferenceNo\", \"formControlName\", \"filerReferenceNo\", \"maxlength\", \"30\", \"placeholder\", \"Enter reference number (optional)\", 1, \"form-control\"], [1, \"form-text\"], [\"class\", \"alert alert-warning\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"card mb-4\", 4, \"ngIf\"], [1, \"col-12\"], [\"for\", \"noteToClerk\", 1, \"form-label\"], [\"id\", \"noteToClerk\", \"formControlName\", \"noteToClerk\", \"rows\", \"4\", \"maxlength\", \"1000\", \"placeholder\", \"Enter a note to the clerk regarding processing of this filing (Maximum 1000 characters)\", 1, \"form-control\"], [1, \"d-flex\", \"gap-2\", \"justify-content-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", \"class\", \"btn btn-outline-secondary\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [3, \"value\"], [1, \"invalid-feedback\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [1, \"fa\", \"fa-exclamation-triangle\", \"me-2\"], [1, \"row\", \"mb-4\"], [1, \"col-md-6\"], [\"for\", \"filingAmount\", 1, \"form-label\"], [1, \"input-group\"], [1, \"input-group-text\"], [\"type\", \"text\", \"id\", \"filingAmount\", \"formControlName\", \"filingAmount\", \"placeholder\", \"0.00\", 1, \"form-control\", 3, \"keypress\"], [1, \"mb-3\"], [1, \"text-muted\", \"mb-3\"], [1, \"form-check\", \"mb-2\"], [\"type\", \"checkbox\", \"id\", \"exempt\", \"formControlName\", \"exempt\", 1, \"form-check-input\"], [\"for\", \"exempt\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"govAttorney\", \"formControlName\", \"govAttorney\", 1, \"form-check-input\"], [\"for\", \"govAttorney\", 1, \"form-check-label\"], [\"type\", \"checkbox\", \"id\", \"informaPauperis\", \"formControlName\", \"informaPauperis\", 1, \"form-check-input\"], [\"for\", \"informaPauperis\", 1, \"form-check-label\"], [1, \"form-check\", \"mb-3\"], [\"type\", \"checkbox\", \"id\", \"waived\", \"formControlName\", \"waived\", 1, \"form-check-input\"], [\"for\", \"waived\", 1, \"form-check-label\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"]],\n    template: function CaseFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\");\n        i0.ɵɵelement(4, \"i\", 3);\n        i0.ɵɵelementStart(5, \"span\", 4);\n        i0.ɵɵtext(6, \"Case Details\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(7, CaseFormComponent_div_7_Template, 3, 0, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, CaseFormComponent_div_8_Template, 3, 1, \"div\", 6)(9, CaseFormComponent_div_9_Template, 4, 0, \"div\", 7)(10, CaseFormComponent_form_10_Template, 71, 28, \"form\", 8);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.isEditMode);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      }\n    },\n    dependencies: [CommonModule, i3.NgForOf, i3.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".case-form-container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.stepHeader[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #007bff, #0056b3);\\n  color: white;\\n  padding: 15px 20px;\\n  border-radius: 8px 8px 0 0;\\n  margin-bottom: 0;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n\\n.stepHeaderTitle[_ngcontent-%COMP%] {\\n  font-size: 1.25rem;\\n  font-weight: 600;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border: none;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  border-radius: 8px;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  border-bottom: 1px solid #dee2e6;\\n  padding: 1rem 1.25rem;\\n  border-radius: 8px 8px 0 0;\\n}\\n\\n.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\\n  color: #495057;\\n  font-weight: 600;\\n}\\n\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: #495057;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%] {\\n  border-radius: 6px;\\n  border: 1px solid #ced4da;\\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus {\\n  border-color: #007bff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n\\n.form-control.is-invalid[_ngcontent-%COMP%], .form-select.is-invalid[_ngcontent-%COMP%] {\\n  border-color: #dc3545;\\n}\\n\\n.invalid-feedback[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  margin-top: 0.25rem;\\n  font-size: 0.875rem;\\n  color: #dc3545;\\n}\\n\\n.form-check[_ngcontent-%COMP%] {\\n  padding-left: 1.5rem;\\n}\\n\\n.form-check-input[_ngcontent-%COMP%] {\\n  width: 1.2rem;\\n  height: 1.2rem;\\n  margin-top: 0.1rem;\\n  margin-left: -1.5rem;\\n}\\n\\n.form-check-label[_ngcontent-%COMP%] {\\n  font-weight: 400;\\n  color: #495057;\\n  cursor: pointer;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  border-radius: 6px;\\n  font-weight: 500;\\n  padding: 0.5rem 1rem;\\n  transition: all 0.2s ease-in-out;\\n}\\n\\n.btn[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-1px);\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #007bff, #0056b3);\\n  border: none;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #6c757d;\\n  border-color: #6c757d;\\n}\\n\\n.btn-outline-secondary[_ngcontent-%COMP%] {\\n  color: #6c757d;\\n  border-color: #6c757d;\\n}\\n\\n.btn-outline-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #6c757d;\\n  border-color: #6c757d;\\n}\\n\\n.alert[_ngcontent-%COMP%] {\\n  border-radius: 6px;\\n  border: none;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n\\n.alert-info[_ngcontent-%COMP%] {\\n  background-color: #e7f3ff;\\n  color: #0c5460;\\n  border-left: 4px solid #007bff;\\n}\\n\\n.alert-warning[_ngcontent-%COMP%] {\\n  background-color: #fff3cd;\\n  color: #856404;\\n  border-left: 4px solid #ffc107;\\n}\\n\\n.alert-danger[_ngcontent-%COMP%] {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n  border-left: 4px solid #dc3545;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: #dc3545 !important;\\n}\\n\\n.input-group-text[_ngcontent-%COMP%] {\\n  background-color: #e9ecef;\\n  border-color: #ced4da;\\n  color: #495057;\\n  font-weight: 500;\\n}\\n\\n.form-text[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  color: #6c757d;\\n  margin-top: 0.25rem;\\n}\\n\\n.spinner-border-sm[_ngcontent-%COMP%] {\\n  width: 1rem;\\n  height: 1rem;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .case-form-container[_ngcontent-%COMP%] {\\n    padding: 10px;\\n  }\\n  \\n  .stepHeader[_ngcontent-%COMP%] {\\n    padding: 10px 15px;\\n  }\\n  \\n  .stepHeaderTitle[_ngcontent-%COMP%] {\\n    font-size: 1.1rem;\\n  }\\n  \\n  .card-header[_ngcontent-%COMP%] {\\n    padding: 0.75rem 1rem;\\n  }\\n  \\n  .btn[_ngcontent-%COMP%] {\\n    padding: 0.4rem 0.8rem;\\n    font-size: 0.9rem;\\n  }\\n}\\n\\n\\n\\n.form-control.is-invalid[_ngcontent-%COMP%], .form-select.is-invalid[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_shake 0.5s ease-in-out;\\n}\\n\\n@keyframes _ngcontent-%COMP%_shake {\\n  0%, 100% { transform: translateX(0); }\\n  25% { transform: translateX(-5px); }\\n  75% { transform: translateX(5px); }\\n}\\n\\n\\n\\n.loading-overlay[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n\\n.loading-overlay[_ngcontent-%COMP%]::before {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(255, 255, 255, 0.8);\\n  z-index: 10;\\n  border-radius: 8px;\\n}\\n\\n\\n\\n.form-check-input[_ngcontent-%COMP%]:checked {\\n  background-color: #007bff;\\n  border-color: #007bff;\\n}\\n\\n.form-check-input[_ngcontent-%COMP%]:focus {\\n  border-color: #007bff;\\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jYXNlLWZvcm0vY2FzZS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHFEQUFxRDtFQUNyRCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLDBCQUEwQjtFQUMxQixnQkFBZ0I7RUFDaEIsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7RUFDWix3Q0FBd0M7RUFDeEMsa0JBQWtCO0VBQ2xCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixnQ0FBZ0M7RUFDaEMscUJBQXFCO0VBQ3JCLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsd0VBQXdFO0FBQzFFOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGdEQUFnRDtBQUNsRDs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixvQkFBb0I7RUFDcEIsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLHlDQUF5QztBQUMzQzs7QUFFQTtFQUNFLHFEQUFxRDtFQUNyRCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztFQUNkLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQSwyQkFBMkI7QUFDM0I7RUFDRTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLHNCQUFzQjtJQUN0QixpQkFBaUI7RUFDbkI7QUFDRjs7QUFFQSxrQ0FBa0M7QUFDbEM7RUFDRSxpQ0FBaUM7QUFDbkM7O0FBRUE7RUFDRSxXQUFXLHdCQUF3QixFQUFFO0VBQ3JDLE1BQU0sMkJBQTJCLEVBQUU7RUFDbkMsTUFBTSwwQkFBMEIsRUFBRTtBQUNwQzs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCwwQ0FBMEM7RUFDMUMsV0FBVztFQUNYLGtCQUFrQjtBQUNwQjs7QUFFQSw0QkFBNEI7QUFDNUI7RUFDRSx5QkFBeUI7RUFDekIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGdEQUFnRDtBQUNsRCIsInNvdXJjZXNDb250ZW50IjpbIi5jYXNlLWZvcm0tY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4uc3RlcEhlYWRlciB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwMDdiZmYsICMwMDU2YjMpO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDE1cHggMjBweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4IDhweCAwIDA7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5zdGVwSGVhZGVyVGl0bGUge1xuICBmb250LXNpemU6IDEuMjVyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5jYXJkIHtcbiAgYm9yZGVyOiBub25lO1xuICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbn1cblxuLmNhcmQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZWUyZTY7XG4gIHBhZGRpbmc6IDFyZW0gMS4yNXJlbTtcbiAgYm9yZGVyLXJhZGl1czogOHB4IDhweCAwIDA7XG59XG5cbi5jYXJkLWhlYWRlciBoNSB7XG4gIGNvbG9yOiAjNDk1MDU3O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uZm9ybS1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjNDk1MDU3O1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG59XG5cbi5mb3JtLWNvbnRyb2wsIC5mb3JtLXNlbGVjdCB7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NlZDRkYTtcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IDAuMTVzIGVhc2UtaW4tb3V0O1xufVxuXG4uZm9ybS1jb250cm9sOmZvY3VzLCAuZm9ybS1zZWxlY3Q6Zm9jdXMge1xuICBib3JkZXItY29sb3I6ICMwMDdiZmY7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsIDEyMywgMjU1LCAwLjI1KTtcbn1cblxuLmZvcm0tY29udHJvbC5pcy1pbnZhbGlkLCAuZm9ybS1zZWxlY3QuaXMtaW52YWxpZCB7XG4gIGJvcmRlci1jb2xvcjogI2RjMzU0NTtcbn1cblxuLmludmFsaWQtZmVlZGJhY2sge1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDAuMjVyZW07XG4gIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gIGNvbG9yOiAjZGMzNTQ1O1xufVxuXG4uZm9ybS1jaGVjayB7XG4gIHBhZGRpbmctbGVmdDogMS41cmVtO1xufVxuXG4uZm9ybS1jaGVjay1pbnB1dCB7XG4gIHdpZHRoOiAxLjJyZW07XG4gIGhlaWdodDogMS4ycmVtO1xuICBtYXJnaW4tdG9wOiAwLjFyZW07XG4gIG1hcmdpbi1sZWZ0OiAtMS41cmVtO1xufVxuXG4uZm9ybS1jaGVjay1sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiAjNDk1MDU3O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5idG4ge1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbn1cblxuLmJ0bjpob3ZlciB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG59XG5cbi5idG4tcHJpbWFyeSB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwMDdiZmYsICMwMDU2YjMpO1xuICBib3JkZXI6IG5vbmU7XG59XG5cbi5idG4tc2Vjb25kYXJ5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzZjNzU3ZDtcbiAgYm9yZGVyLWNvbG9yOiAjNmM3NTdkO1xufVxuXG4uYnRuLW91dGxpbmUtc2Vjb25kYXJ5IHtcbiAgY29sb3I6ICM2Yzc1N2Q7XG4gIGJvcmRlci1jb2xvcjogIzZjNzU3ZDtcbn1cblxuLmJ0bi1vdXRsaW5lLXNlY29uZGFyeTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2Yzc1N2Q7XG4gIGJvcmRlci1jb2xvcjogIzZjNzU3ZDtcbn1cblxuLmFsZXJ0IHtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBib3JkZXI6IG5vbmU7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5hbGVydC1pbmZvIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZjNmZjtcbiAgY29sb3I6ICMwYzU0NjA7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzAwN2JmZjtcbn1cblxuLmFsZXJ0LXdhcm5pbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2NkO1xuICBjb2xvcjogIzg1NjQwNDtcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjZmZjMTA3O1xufVxuXG4uYWxlcnQtZGFuZ2VyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZDdkYTtcbiAgY29sb3I6ICM3MjFjMjQ7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgI2RjMzU0NTtcbn1cblxuLnRleHQtZGFuZ2VyIHtcbiAgY29sb3I6ICNkYzM1NDUgIWltcG9ydGFudDtcbn1cblxuLmlucHV0LWdyb3VwLXRleHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xuICBib3JkZXItY29sb3I6ICNjZWQ0ZGE7XG4gIGNvbG9yOiAjNDk1MDU3O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uZm9ybS10ZXh0IHtcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgY29sb3I6ICM2Yzc1N2Q7XG4gIG1hcmdpbi10b3A6IDAuMjVyZW07XG59XG5cbi5zcGlubmVyLWJvcmRlci1zbSB7XG4gIHdpZHRoOiAxcmVtO1xuICBoZWlnaHQ6IDFyZW07XG59XG5cbi8qIFJlc3BvbnNpdmUgYWRqdXN0bWVudHMgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuY2FzZS1mb3JtLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuICBcbiAgLnN0ZXBIZWFkZXIge1xuICAgIHBhZGRpbmc6IDEwcHggMTVweDtcbiAgfVxuICBcbiAgLnN0ZXBIZWFkZXJUaXRsZSB7XG4gICAgZm9udC1zaXplOiAxLjFyZW07XG4gIH1cbiAgXG4gIC5jYXJkLWhlYWRlciB7XG4gICAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuICB9XG4gIFxuICAuYnRuIHtcbiAgICBwYWRkaW5nOiAwLjRyZW0gMC44cmVtO1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICB9XG59XG5cbi8qIEFuaW1hdGlvbiBmb3IgZm9ybSB2YWxpZGF0aW9uICovXG4uZm9ybS1jb250cm9sLmlzLWludmFsaWQsIC5mb3JtLXNlbGVjdC5pcy1pbnZhbGlkIHtcbiAgYW5pbWF0aW9uOiBzaGFrZSAwLjVzIGVhc2UtaW4tb3V0O1xufVxuXG5Aa2V5ZnJhbWVzIHNoYWtlIHtcbiAgMCUsIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cbiAgMjUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XG4gIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XG59XG5cbi8qIExvYWRpbmcgc3RhdGUgKi9cbi5sb2FkaW5nLW92ZXJsYXkge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5sb2FkaW5nLW92ZXJsYXk6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICB6LWluZGV4OiAxMDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xufVxuXG4vKiBDdXN0b20gY2hlY2tib3ggc3R5bGluZyAqL1xuLmZvcm0tY2hlY2staW5wdXQ6Y2hlY2tlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGJvcmRlci1jb2xvcjogIzAwN2JmZjtcbn1cblxuLmZvcm0tY2hlY2staW5wdXQ6Zm9jdXMge1xuICBib3JkZXItY29sb3I6ICMwMDdiZmY7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsIDEyMywgMjU1LCAwLjI1KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","CommonModule","ReactiveFormsModule","Validators","i0","ɵɵelementStart","ɵɵlistener","CaseFormComponent_div_7_Template_button_click_1_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onCancel","ɵɵelement","ɵɵelementEnd","ɵɵtext","CaseFormComponent_div_8_Template_button_click_2_listener","_r3","error","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","location_r5","value","label","getFieldError","category_r6","type_r7","CaseFormComponent_form_10_div_48_Template_input_keypress_14_listener","$event","_r8","onNumericInput","ɵɵtemplate","CaseFormComponent_form_10_div_48_div_15_Template","ɵɵclassProp","isFieldInvalid","CaseFormComponent_form_10_button_67_Template_button_click_0_listener","_r9","CaseFormComponent_form_10_Template_form_ngSubmit_0_listener","_r4","onSubmit","CaseFormComponent_form_10_option_18_Template","CaseFormComponent_form_10_div_19_Template","CaseFormComponent_form_10_option_28_Template","CaseFormComponent_form_10_div_29_Template","CaseFormComponent_form_10_option_38_Template","CaseFormComponent_form_10_div_39_Template","CaseFormComponent_form_10_div_44_Template","CaseFormComponent_form_10_div_47_Template","CaseFormComponent_form_10_div_48_Template","CaseFormComponent_form_10_div_59_Template","CaseFormComponent_form_10_Template_button_click_65_listener","onReset","CaseFormComponent_form_10_button_67_Template","CaseFormComponent_form_10_span_69_Template","caseForm","courtLocations","caseCategories","caseTypes","length","showAutoFeeMessage","showFilingFeeSection","tmp_19_0","get","isEditMode","loading","invalid","CaseFormComponent","constructor","fb","caseService","caseData","formSubmit","formCancel","selectedCaseType","calculatedFee","createForm","ngOnInit","loadDropdownData","setupFormSubscriptions","populateForm","group","courtLocation","required","caseCategory","caseType","filerReferenceNo","maxLength","filingAmount","min","pattern","exempt","govAttorney","informaPauperis","waived","noteToClerk","getCourtLocations","subscribe","next","locations","console","getCaseCategories","categories","valueChanges","categoryId","loadCaseTypes","patchValue","caseTypeId","handleCaseTypeChange","exemptionControls","forEach","controlName","validateFeeExemptions","getCaseTypesByCategory","types","find","type","requiresFee","autoCalculateFee","defaultFee","exemptions","hasExemption","some","exemption","replace","trim","filerReferenceNumber","valid","formData","emit","markFormGroupTouched","reset","Object","keys","controls","key","control","markAsTouched","fieldName","field","dirty","touched","errors","event","charCode","which","keyCode","_","ɵɵdirectiveInject","i1","FormBuilder","i2","CaseService","_2","selectors","inputs","outputs","decls","vars","consts","template","CaseFormComponent_Template","rf","ctx","CaseFormComponent_div_7_Template","CaseFormComponent_div_8_Template","CaseFormComponent_div_9_Template","CaseFormComponent_form_10_Template","i3","NgForOf","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","MaxLengthValidator","FormGroupDirective","FormControlName","styles"],"sources":["C:\\ada\\workspaces\\angular-efile\\fullstack-app\\frontend\\src\\app\\components\\case-form\\case-form.component.ts","C:\\ada\\workspaces\\angular-efile\\fullstack-app\\frontend\\src\\app\\components\\case-form\\case-form.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CaseService } from '../../services/case.service';\nimport { Case, CaseFormModel, CourtLocation, CaseCategory, CaseType } from '../../models/case.model';\n\n@Component({\n  selector: 'app-case-form',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './case-form.component.html',\n  styleUrls: ['./case-form.component.css']\n})\nexport class CaseFormComponent implements OnInit {\n  @Input() caseData: Case | null = null;\n  @Input() isEditMode: boolean = false;\n  @Output() formSubmit = new EventEmitter<CaseFormModel>();\n  @Output() formCancel = new EventEmitter<void>();\n\n  caseForm: FormGroup;\n  courtLocations: CourtLocation[] = [];\n  caseCategories: CaseCategory[] = [];\n  caseTypes: CaseType[] = [];\n  selectedCaseType: CaseType | null = null;\n  \n  showFilingFeeSection = false;\n  showAutoFeeMessage = false;\n  calculatedFee = 0;\n  loading = false;\n  error = '';\n\n  constructor(\n    private fb: FormBuilder,\n    private caseService: CaseService\n  ) {\n    this.caseForm = this.createForm();\n  }\n\n  ngOnInit() {\n    this.loadDropdownData();\n    this.setupFormSubscriptions();\n    \n    if (this.caseData && this.isEditMode) {\n      this.populateForm();\n    }\n  }\n\n  private createForm(): FormGroup {\n    return this.fb.group({\n      courtLocation: ['', Validators.required],\n      caseCategory: ['', Validators.required],\n      caseType: ['', Validators.required],\n      filerReferenceNo: ['', [Validators.maxLength(30)]],\n      filingAmount: [0.00, [Validators.min(0), Validators.pattern(/^\\d+(\\.\\d{1,2})?$/)]],\n      exempt: [false],\n      govAttorney: [false],\n      informaPauperis: [false],\n      waived: [false],\n      noteToClerk: ['', Validators.maxLength(1000)]\n    });\n  }\n\n  private loadDropdownData() {\n    this.loading = true;\n    \n    // Load court locations\n    this.caseService.getCourtLocations().subscribe({\n      next: (locations) => {\n        this.courtLocations = locations;\n      },\n      error: (error) => {\n        this.error = 'Failed to load court locations';\n        console.error('Error loading court locations:', error);\n      }\n    });\n\n    // Load case categories\n    this.caseService.getCaseCategories().subscribe({\n      next: (categories) => {\n        this.caseCategories = categories;\n        this.loading = false;\n      },\n      error: (error) => {\n        this.error = 'Failed to load case categories';\n        this.loading = false;\n        console.error('Error loading case categories:', error);\n      }\n    });\n  }\n\n  private setupFormSubscriptions() {\n    // Watch for case category changes to update case types\n    this.caseForm.get('caseCategory')?.valueChanges.subscribe(categoryId => {\n      if (categoryId) {\n        this.loadCaseTypes(categoryId);\n        // Reset case type when category changes\n        this.caseForm.patchValue({ caseType: '' });\n        this.selectedCaseType = null;\n        this.showFilingFeeSection = false;\n        this.showAutoFeeMessage = false;\n      } else {\n        this.caseTypes = [];\n      }\n    });\n\n    // Watch for case type changes to handle fee calculation\n    this.caseForm.get('caseType')?.valueChanges.subscribe(caseTypeId => {\n      if (caseTypeId) {\n        this.handleCaseTypeChange(caseTypeId);\n      }\n    });\n\n    // Watch for fee exemption changes\n    const exemptionControls = ['exempt', 'govAttorney', 'informaPauperis', 'waived'];\n    exemptionControls.forEach(controlName => {\n      this.caseForm.get(controlName)?.valueChanges.subscribe(() => {\n        this.validateFeeExemptions();\n      });\n    });\n  }\n\n  private loadCaseTypes(categoryId: string) {\n    this.caseService.getCaseTypesByCategory(categoryId).subscribe({\n      next: (types) => {\n        this.caseTypes = types;\n      },\n      error: (error) => {\n        this.error = 'Failed to load case types';\n        console.error('Error loading case types:', error);\n      }\n    });\n  }\n\n  private handleCaseTypeChange(caseTypeId: string) {\n    this.selectedCaseType = this.caseTypes.find(type => type.value === caseTypeId) || null;\n    \n    if (this.selectedCaseType) {\n      this.showFilingFeeSection = this.selectedCaseType.requiresFee;\n      this.showAutoFeeMessage = this.selectedCaseType.autoCalculateFee || false;\n      \n      if (this.selectedCaseType.defaultFee) {\n        this.calculatedFee = this.selectedCaseType.defaultFee;\n        this.caseForm.patchValue({ filingAmount: this.calculatedFee });\n      }\n    }\n  }\n\n  private validateFeeExemptions() {\n    const exemptions = [\n      this.caseForm.get('exempt')?.value,\n      this.caseForm.get('govAttorney')?.value,\n      this.caseForm.get('informaPauperis')?.value,\n      this.caseForm.get('waived')?.value\n    ];\n\n    const hasExemption = exemptions.some(exemption => exemption === true);\n    const filingAmount = this.caseForm.get('filingAmount')?.value;\n\n    // Clear fee validation errors\n    this.error = this.error.replace('Filing fee or exemption required.', '').trim();\n\n    // If no exemptions and no filing amount, show error\n    if (this.showFilingFeeSection && !hasExemption && (!filingAmount || filingAmount <= 0)) {\n      // Will be validated on submit\n    }\n  }\n\n  private populateForm() {\n    if (this.caseData) {\n      this.caseForm.patchValue({\n        courtLocation: this.caseData.courtLocation,\n        caseCategory: this.caseData.caseCategory,\n        caseType: this.caseData.caseType,\n        filerReferenceNo: this.caseData.filerReferenceNumber || '',\n        filingAmount: this.caseData.filingAmount || 0,\n        exempt: this.caseData.exempt || false,\n        govAttorney: this.caseData.govAttorney || false,\n        informaPauperis: this.caseData.informaPauperis || false,\n        waived: this.caseData.waived || false,\n        noteToClerk: this.caseData.noteToClerk || ''\n      });\n    }\n  }\n\n  onSubmit() {\n    if (this.caseForm.valid) {\n      // Additional validation for filing fees\n      if (this.showFilingFeeSection) {\n        const hasExemption = this.caseForm.get('exempt')?.value ||\n                           this.caseForm.get('govAttorney')?.value ||\n                           this.caseForm.get('informaPauperis')?.value ||\n                           this.caseForm.get('waived')?.value;\n        \n        const filingAmount = this.caseForm.get('filingAmount')?.value;\n        \n        if (!hasExemption && (!filingAmount || filingAmount <= 0)) {\n          this.error = 'Filing fee or exemption required.';\n          return;\n        }\n      }\n\n      this.error = '';\n      const formData: CaseFormModel = this.caseForm.value;\n      this.formSubmit.emit(formData);\n    } else {\n      this.markFormGroupTouched();\n      this.error = 'Please correct the errors in the form.';\n    }\n  }\n\n  onCancel() {\n    this.formCancel.emit();\n  }\n\n  onReset() {\n    this.caseForm.reset();\n    this.selectedCaseType = null;\n    this.showFilingFeeSection = false;\n    this.showAutoFeeMessage = false;\n    this.error = '';\n  }\n\n  private markFormGroupTouched() {\n    Object.keys(this.caseForm.controls).forEach(key => {\n      const control = this.caseForm.get(key);\n      control?.markAsTouched();\n    });\n  }\n\n  // Utility methods for template\n  isFieldInvalid(fieldName: string): boolean {\n    const field = this.caseForm.get(fieldName);\n    return !!(field && field.invalid && (field.dirty || field.touched));\n  }\n\n  getFieldError(fieldName: string): string {\n    const field = this.caseForm.get(fieldName);\n    if (field && field.errors && (field.dirty || field.touched)) {\n      if (field.errors['required']) return `${fieldName} is required`;\n      if (field.errors['maxlength']) return `${fieldName} exceeds maximum length`;\n      if (field.errors['min']) return `${fieldName} must be greater than 0`;\n      if (field.errors['pattern']) return `${fieldName} format is invalid`;\n    }\n    return '';\n  }\n\n  onNumericInput(event: KeyboardEvent): boolean {\n    // Allow only numbers and decimal point\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode !== 46) {\n      return false;\n    }\n    return true;\n  }\n}\n","<div class=\"case-form-container\">\n  <!-- Form Header -->\n  <div class=\"row stepHeader\">\n    <div class=\"col-10\">\n      <span>\n        <i class=\"fa fa-gavel me-2\" aria-hidden=\"true\"></i>\n        <span class=\"stepHeaderTitle\">Case Details</span>\n      </span>\n    </div>\n    <div class=\"col-2 text-end\" *ngIf=\"isEditMode\">\n      <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" (click)=\"onCancel()\">\n        <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n      </button>\n    </div>\n  </div>\n\n  <!-- Error Alert -->\n  <div *ngIf=\"error\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n    {{error}}\n    <button type=\"button\" class=\"btn-close\" (click)=\"error=''\" aria-label=\"Close\"></button>\n  </div>\n\n  <!-- Loading Spinner -->\n  <div *ngIf=\"loading\" class=\"text-center my-4\">\n    <div class=\"spinner-border text-primary\" role=\"status\">\n      <span class=\"visually-hidden\">Loading...</span>\n    </div>\n  </div>\n\n  <!-- Case Form -->\n  <form [formGroup]=\"caseForm\" (ngSubmit)=\"onSubmit()\" *ngIf=\"!loading\">\n    \n    <!-- Required Fields Notice -->\n    <div class=\"alert alert-info\">\n      <i class=\"fa fa-info-circle me-2\"></i>\n      Required fields are denoted by an asterisk (*)\n    </div>\n\n    <!-- Case Details Section -->\n    <div class=\"card mb-4\">\n      <div class=\"card-header\">\n        <h5 class=\"mb-0\">Case Details</h5>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"row\">\n          <!-- Court Location -->\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"courtLocation\" class=\"form-label\">Court Location <span class=\"text-danger\">*</span></label>\n            <select \n              id=\"courtLocation\" \n              formControlName=\"courtLocation\" \n              class=\"form-select\"\n              [class.is-invalid]=\"isFieldInvalid('courtLocation')\">\n              <option value=\"\">--Select Court Location--</option>\n              <option *ngFor=\"let location of courtLocations\" [value]=\"location.value\">\n                {{location.label}}\n              </option>\n            </select>\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('courtLocation')\">\n              {{getFieldError('courtLocation')}}\n            </div>\n          </div>\n\n          <!-- Case Category -->\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"caseCategory\" class=\"form-label\">Case Category <span class=\"text-danger\">*</span></label>\n            <select \n              id=\"caseCategory\" \n              formControlName=\"caseCategory\" \n              class=\"form-select\"\n              [class.is-invalid]=\"isFieldInvalid('caseCategory')\">\n              <option value=\"\">--Select Case Category--</option>\n              <option *ngFor=\"let category of caseCategories\" [value]=\"category.value\">\n                {{category.label}}\n              </option>\n            </select>\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('caseCategory')\">\n              {{getFieldError('caseCategory')}}\n            </div>\n          </div>\n\n          <!-- Case Type -->\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"caseType\" class=\"form-label\">Case Type <span class=\"text-danger\">*</span></label>\n            <select \n              id=\"caseType\" \n              formControlName=\"caseType\" \n              class=\"form-select\"\n              [class.is-invalid]=\"isFieldInvalid('caseType')\"\n              [disabled]=\"caseTypes.length === 0\">\n              <option value=\"\">\n                {{caseTypes.length === 0 ? '--First select a case category--' : '--Select Case Type--'}}\n              </option>\n              <option *ngFor=\"let type of caseTypes\" [value]=\"type.value\">\n                {{type.label}}\n              </option>\n            </select>\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('caseType')\">\n              {{getFieldError('caseType')}}\n            </div>\n          </div>\n\n          <!-- Filer Reference Number -->\n          <div class=\"col-md-6 mb-3\">\n            <label for=\"filerReferenceNo\" class=\"form-label\">Filer Reference Number</label>\n            <input \n              type=\"text\" \n              id=\"filerReferenceNo\"\n              formControlName=\"filerReferenceNo\"\n              class=\"form-control\"\n              [class.is-invalid]=\"isFieldInvalid('filerReferenceNo')\"\n              maxlength=\"30\"\n              placeholder=\"Enter reference number (optional)\">\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('filerReferenceNo')\">\n              {{getFieldError('filerReferenceNo')}}\n            </div>\n            <div class=\"form-text\">Maximum 30 characters</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Auto Case Create Message -->\n    <div *ngIf=\"showAutoFeeMessage\" class=\"alert alert-warning\" role=\"alert\">\n      <i class=\"fa fa-exclamation-triangle me-2\"></i>\n      <strong>NOTE:</strong> You have selected an Auto Case create case type. Filing fees will be auto populated in the filing fee section.\n    </div>\n\n    <!-- Filing Fee Section -->\n    <div *ngIf=\"showFilingFeeSection\" class=\"card mb-4\">\n      <div class=\"card-header\">\n        <h5 class=\"mb-0\">Filing Fee Information</h5>\n      </div>\n      <div class=\"card-body\">\n        <!-- Filing Fee Input -->\n        <div class=\"row mb-4\">\n          <div class=\"col-md-6\">\n            <label for=\"filingAmount\" class=\"form-label\">Filing Fee <span class=\"text-danger\">*</span></label>\n            <div class=\"input-group\">\n              <span class=\"input-group-text\">$</span>\n              <input \n                type=\"text\" \n                id=\"filingAmount\"\n                formControlName=\"filingAmount\"\n                class=\"form-control\"\n                [class.is-invalid]=\"isFieldInvalid('filingAmount')\"\n                placeholder=\"0.00\"\n                (keypress)=\"onNumericInput($event)\">\n            </div>\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('filingAmount')\">\n              {{getFieldError('filingAmount')}}\n            </div>\n            <div class=\"form-text\">\n              For new case filings and supplemental filings that require a fee, please enter an amount or check at least one exemption below.\n            </div>\n          </div>\n        </div>\n\n        <!-- Fee Exemptions -->\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <h6 class=\"mb-3\">Filing Fee Exemptions</h6>\n            <p class=\"text-muted mb-3\">\n              For new case filings and supplemental filings that require a fee, please select any filing fee exemption that apply:\n            </p>\n            \n            <div class=\"form-check mb-2\">\n              <input \n                type=\"checkbox\" \n                id=\"exempt\"\n                formControlName=\"exempt\"\n                class=\"form-check-input\">\n              <label class=\"form-check-label\" for=\"exempt\">\n                Exempt From Filing Fees by Section 514.040 RSMo\n              </label>\n            </div>\n\n            <div class=\"form-check mb-2\">\n              <input \n                type=\"checkbox\" \n                id=\"govAttorney\"\n                formControlName=\"govAttorney\"\n                class=\"form-check-input\">\n              <label class=\"form-check-label\" for=\"govAttorney\">\n                Government Filer - Exempt from Filing Fees\n              </label>\n            </div>\n\n            <div class=\"form-check mb-2\">\n              <input \n                type=\"checkbox\" \n                id=\"informaPauperis\"\n                formControlName=\"informaPauperis\"\n                class=\"form-check-input\">\n              <label class=\"form-check-label\" for=\"informaPauperis\">\n                In Forma Pauperis\n              </label>\n            </div>\n\n            <div class=\"form-check mb-3\">\n              <input \n                type=\"checkbox\" \n                id=\"waived\"\n                formControlName=\"waived\"\n                class=\"form-check-input\">\n              <label class=\"form-check-label\" for=\"waived\">\n                Fee Waived / Not Required (explain special circumstances in Notes to Clerk)\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Notes to Clerk Section -->\n    <div class=\"card mb-4\">\n      <div class=\"card-header\">\n        <h5 class=\"mb-0\">Additional Information</h5>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <label for=\"noteToClerk\" class=\"form-label\">Notes to Clerk</label>\n            <textarea \n              id=\"noteToClerk\"\n              formControlName=\"noteToClerk\"\n              class=\"form-control\"\n              [class.is-invalid]=\"isFieldInvalid('noteToClerk')\"\n              rows=\"4\"\n              maxlength=\"1000\"\n              placeholder=\"Enter a note to the clerk regarding processing of this filing (Maximum 1000 characters)\"></textarea>\n            <div class=\"invalid-feedback\" *ngIf=\"isFieldInvalid('noteToClerk')\">\n              {{getFieldError('noteToClerk')}}\n            </div>\n            <div class=\"form-text\">\n              {{(caseForm.get('noteToClerk')?.value?.length || 0)}}/1000 characters\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Form Actions -->\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"d-flex gap-2 justify-content-end\">\n          <button \n            type=\"button\" \n            class=\"btn btn-secondary\"\n            (click)=\"onReset()\">\n            Reset\n          </button>\n          <button \n            type=\"button\" \n            class=\"btn btn-outline-secondary\"\n            (click)=\"onCancel()\"\n            *ngIf=\"isEditMode\">\n            Cancel\n          </button>\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\"\n            [disabled]=\"loading || caseForm.invalid\">\n            <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-2\"></span>\n            {{isEditMode ? 'Update Case' : 'Create Case'}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}